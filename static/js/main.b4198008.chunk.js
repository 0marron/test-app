(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{31:function(e,t,a){},33:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(23),s=a.n(r),n=(a(31),a(12)),i=a.n(n),l=a(10),o=a(2),j=a(14),u=a(7),p=a(42),d=a(40),b=a(43),m=a(41),h=(a(33),a(15)),x=a(1),O=function(e){function t(){return(t=Object(j.a)(i.a.mark((function t(a){var c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?units=metric&lang=ru&q=".concat(a,"&appid=37b1440e08357c82b2b3a48792f3f086"));case 2:if((c=t.sent).ok){t.next=5;break}return t.abrupt("return");case 5:if(200===c.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,c.json();case 9:r=t.sent,e.propB.setStateHandler((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},a,r))}));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(x.jsxs)(b.a,{className:"weather-card",children:[Object(x.jsx)(h.b,{to:"/city",state:e.propA.countriesDic[e.propA.city],children:Object(x.jsxs)(b.a.Body,{children:[Object(x.jsxs)(b.a.Title,{children:["  ",e.propA.city]}),Object(x.jsxs)(m.a,{variant:"flush",children:[Object(x.jsxs)(m.a.Item,{children:["\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.propA.countriesDic[e.propA.city].main.temp," \xb0C"]}),Object(x.jsxs)(m.a.Item,{children:["\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",e.propA.countriesDic[e.propA.city].wind.speed.toFixed()," km/h"]}),Object(x.jsxs)(m.a.Item,{children:["\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c: ",e.propA.countriesDic[e.propA.city].clouds.all.toFixed()," %"]})]})]})}),Object(x.jsx)(d.a,{className:"card-button",onClick:function(){!function(e){t.apply(this,arguments)}(e.propA.city)},variant:"success",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(x.jsx)(d.a,{className:"card-button",onClick:function(){var t=Object.assign({},e.propA.countriesDic);delete t[e.propA.city],e.propB.setStateHandler(t)},variant:"danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},f=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)({}),n=Object(u.a)(s,2),b=n[0],m=n[1];function h(){return h=Object(j.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?units=metric&lang=ru&q=".concat(t,"&appid=37b1440e08357c82b2b3a48792f3f086"));case 2:if((a=e.sent).ok){e.next=5;break}return e.abrupt("return");case 5:if(200===a.status){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a.json();case 9:c=e.sent,m((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},t,c))}));case 11:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}Object(c.useEffect)((function(){!0===(null!==localStorage.getItem("weatherDataStorage"))&&m(JSON.parse(localStorage.getItem("weatherDataStorage")))}),[]),Object(c.useEffect)((function(){localStorage.setItem("weatherDataStorage",JSON.stringify(b))}),[b]);var f=function(e){var t;e.preventDefault(),""===(t=a)||!/^[a-zA-Z\s]*$/g.test(t)||t.length<3||void 0===t||function(e){h.apply(this,arguments)}(a)},v=function(e){m(e)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"form-container",children:Object(x.jsxs)(p.a,{onSubmit:f,className:"city-form",children:[Object(x.jsxs)(p.a.Group,{md:"5",controlId:"validationCustom03",children:[Object(x.jsx)(p.a.Control,{className:"form-control",onChange:function(e){return t=e.target.value,void r(t);var t},value:a,type:"text",placeholder:"\u0413\u043e\u0440\u043e\u0434",required:!0}),Object(x.jsx)(p.a.Control.Feedback,{type:"invalid",children:"Please provide a valid city."})]}),Object(x.jsx)(d.a,{className:"city-button",variant:"primary",type:"submit",onSubmit:f,children:" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "})]})}),Object(x.jsx)("div",{className:"cards-container",children:Object.keys(b).map((function(e,t){return Object(x.jsx)(O,{propA:{city:e,countriesDic:b},propB:{setStateHandler:v}},t)}))})]})};var v=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(f,{})})},g=a(5),N=(a(37),function(){var e=Object(g.e)().state,t=Object(c.useState)([]),a=Object(u.a)(t,2),r=a[0],s=a[1],n=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"];function l(){return(l=Object(j.a)(i.a.mark((function e(t,a){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(a,"&units=metric&exclude=daily,minutely,current,alerts&lang=ru&appid=37b1440e08357c82b2b3a48792f3f086"));case 2:if((c=e.sent).ok){e.next=5;break}return e.abrupt("return",null);case 5:if(200===c.status){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,c.json();case 9:r=e.sent,s(r.hourly);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(e,t){l.apply(this,arguments)}(e.coord.lat,e.coord.lon)}),[]),Object(x.jsxs)("div",{className:"detail-info-block",children:[Object(x.jsxs)("div",{style:{textAlign:"center"},children:[Object(x.jsxs)("h1",{children:[" \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438: ",e.name,"  "]})," "]}),Object(x.jsxs)(m.a,{className:"rows",children:[Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u041c\u0430\u043a\u0441./\u041c\u0438\u043d."}),"  ",Object(x.jsxs)("div",{className:"right-part",children:[" ",e.main.temp_min,"/",e.main.temp_min," \xb0C  "]})," "]}),Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),"  ",Object(x.jsxs)("div",{className:"right-part",children:[" ",e.main.humidity,"% "]})]}),Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),"  ",Object(x.jsxs)("div",{className:"right-part",children:[e.wind.speed,"km/h "]})]}),Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c"}),"  ",Object(x.jsxs)("div",{className:"right-part",children:[" ",e.visibility,"m"]})]}),Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c"}),"  ",Object(x.jsxs)("div",{className:"right-part",children:[e.weather[0].description," "]})]}),Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u0412\u043e\u0441\u0445\u043e\u0434/\u0420\u0430\u0441\u0441\u0432\u0435\u0442"}),"  ",Object(x.jsxs)("div",{className:"right-part",children:["  ",new Date(1e3*e.sys.sunrise).toLocaleTimeString()," / ",new Date(1e3*e.sys.sunset).toLocaleTimeString()]})]}),Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430"}),"  ",Object(x.jsxs)("div",{className:"right-part",children:[" ",e.main.temp," \xb0C"]})]}),Object(x.jsxs)(m.a.Item,{className:"row",children:[" ",Object(x.jsx)("div",{className:"left-part",children:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a"}),"  ",Object(x.jsxs)("div",{className:"right-part",children:[" ",e.main.feels_like," \xb0C"]})]})]}),Object(x.jsx)("div",{className:"hourly-temp",children:Object(x.jsx)("div",{className:"hourly-temp-inner",children:r.map((function(e,t){if(t<24)return Object(x.jsxs)("div",{style:{marginTop:"calc(100px - ".concat(3*e.temp,"px)")},className:"temp-cube",children:[" ",e.temp.toFixed(),"\xb0C",Object(x.jsxs)("div",{className:"hour",children:[" ",n[t]," "]})," "]},t)}))})})]})}),y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),c(e),r(e),s(e),n(e)}))},w=(a(38),document.getElementsByTagName("base")[0].getAttribute("href")),k=document.getElementById("root");s.a.render(Object(x.jsx)(h.a,{basename:w,children:Object(x.jsxs)(g.c,{children:[Object(x.jsx)(g.a,{path:"/",element:Object(x.jsx)(v,{})}),Object(x.jsx)(g.a,{path:"city",element:Object(x.jsx)(N,{})})]})}),k),y()}},[[39,1,2]]]);
//# sourceMappingURL=main.b4198008.chunk.js.map